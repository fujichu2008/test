/**
* ==========================================================================
* A P P   S T U D I O   :   W h e r e   I d e a s   T a k e   S h a p e
* ==========================================================================
* * *
* ã€ ã‚³ãƒ³ã‚»ãƒ—ãƒˆ ã€‘
* ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®çŸ¥è­˜ã¯ä¸€åˆ‡ä¸è¦ã€‚å¿…è¦ãªã®ã¯ã€Œã‚¢ã‚¤ãƒ‡ã‚¢ã€ã ã‘ã€‚
* AIã¨ã®å¯¾è©±ã‚’é€šã˜ã¦ã€ç†æƒ³ã®ã‚¢ãƒ—ãƒªã‚’ç¬æ™‚ã«å½¢ã«ã™ã‚‹.
* * *
* ã€ ç‰¹å¾´ ã€‘
* â–¶ AI-Native Dev ..... è‡ªç„¶è¨€èªã®ãƒãƒ£ãƒƒãƒˆã ã‘ã§ã€Œã‚ã£ãŸã‚‰ã„ã„ãªã€ãŒï¼“åˆ†ã§å½¢ã«
* â–¶ Instant Preview ... ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å³åº§ã«å®Ÿè¡Œãƒ»ç¢ºèª
* â–¶ Secure Local ...... ãƒ‡ãƒ¼ã‚¿ã¯å¤–éƒ¨é€ä¿¡ã›ãšã€ã“ã®ç«¯æœ«å†…ã§å®Œçµã€‚å±é™ºãªå‹•ä½œã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“
* * *
* ã€ ä½¿ã„æ–¹: 4ã‚¹ãƒ†ãƒƒãƒ— ã€‘
* 1. SET ...... å·¦ä¸Šã®ã€Œé–‹ç™ºã‚’ã¯ã˜ã‚ã‚‹ã€ã‹ã‚‰ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¾ãŸã¯å˜ç™ºãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ
* 2. ASK ...... ã€ŒAIæŒ‡ç¤ºã€ãƒœã‚¿ãƒ³ã‹ã‚‰ã€ä½œã‚ŠãŸã„ã‚¢ãƒ—ãƒªã‚’è¨€è‘‰ã§ä¼ãˆã‚‹
* 3. RUN ...... ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã§å‹•ãã‚’ç¢ºèª
* 4. REFINE ... æ°—ã«ãªã‚‹ç‚¹ã¯ã€ŒAIæŒ‡ç¤ºã€ã§ä¿®æ­£æŒ‡ç¤ºã€‚ã€Œä¿®æ­£ã‚’åæ˜ ã€ãƒœã‚¿ãƒ³ã§è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
* * *
* ==========================================================================
* Let's build something amazing.                    (c) 2026 Hisashi Fujinaka
* ==========================================================================
*/
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>AppStudio - Where ideas take shape</title>
   <style>
       :root {
           --bg-color: #050011;
           --text-color: #ffffff;
           --accent-gradient: linear-gradient(135deg, #00c6ff, #0072ff);
           --glass-bg: rgba(255, 255, 255, 0.05);
           --glass-border: rgba(255, 255, 255, 0.1);
       }

       body {
           margin: 0;
           padding: 0;
           overflow: hidden;
           background-color: var(--bg-color);
           font-family: 'Helvetica Neue', Arial, sans-serif;
           height: 100vh;
           display: flex;
           justify-content: center;
           align-items: center;
           color: var(--text-color);
       }

       /* èƒŒæ™¯ï¼š3Dã‚¹ã‚¿ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */
       #starfield {
           position: absolute;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           z-index: 0;
       }

       /* ã‚³ãƒ¼ãƒ‰ã‚¹ãƒˆãƒªãƒ¼ãƒ èƒŒæ™¯ */
       #code-stream {
           position: absolute;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           z-index: 1;
           padding: 2rem;
           box-sizing: border-box;
           font-family: 'Consolas', 'Monaco', monospace;
           font-size: 0.9rem;
           color: rgba(0, 198, 255, 0.07); /* æœªçµŒé¨“è€…ãŒåœ§è¿«æ„Ÿã‚’æ„Ÿã˜ãªã„ã‚ˆã†è–„ãèª¿æ•´ */
           overflow: hidden;
           white-space: pre-wrap;
           word-break: break-all;
           pointer-events: none;
           text-shadow: 0 0 5px rgba(0, 198, 255, 0.2);
           transition: opacity 1s ease;
       }

       /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¬ã‚¤ãƒ¤ãƒ¼ */
       #content-layer {
           position: absolute;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           z-index: 10;
           text-align: center;
           width: 100%;
           max-width: 800px;
           height: 300px;
           display: flex;
           flex-direction: column;
           justify-content: center;
           align-items: center;
           pointer-events: none; /* ã‚¯ãƒªãƒƒã‚¯é€é */
       }

       /* ã‚¿ã‚¤ãƒˆãƒ«ãƒ­ã‚´ */
       .title-container {
           transition: all 1s ease-in-out;
           opacity: 1;
           transform: scale(1);
       }

       h1 {
           font-size: 5rem;
           margin: 0;
           font-weight: 800;
           letter-spacing: -2px;
           background: linear-gradient(to right, #fff, #a5b4fc);
           -webkit-background-clip: text;
           -webkit-text-fill-color: transparent;
           text-shadow: 0 0 30px rgba(0, 100, 255, 0.3);
       }

       .subtitle {
           font-size: 1.5rem;
           margin-top: 1rem;
           font-weight: 300;
           letter-spacing: 4px;
           color: #cbd5e1;
           opacity: 0;
           animation: fadeInSub 2s ease-out 1s forwards;
       }

       /* æŒ‡ç¤ºï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰è¡¨ç¤ºã‚¨ãƒªã‚¢ */
       .prompt-container {
           position: absolute;
           opacity: 0;
           transform: translateY(20px) scale(0.95);
           transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
           background: var(--glass-bg);
           border: 1px solid var(--glass-border);
           padding: 2rem 3rem;
           border-radius: 16px;
           backdrop-filter: blur(10px);
           box-shadow: 0 10px 40px rgba(0,0,0,0.5);
           width: 80%;
       }

       .prompt-text {
           font-family: 'Courier New', monospace;
           font-size: 1.4rem;
           line-height: 1.6;
           color: #e2e8f0;
       }

       .prompt-cursor {
           display: inline-block;
           width: 10px;
           height: 1.4rem;
           background: #00c6ff;
           margin-left: 5px;
           animation: blink 1s infinite;
       }

       .prompt-label {
           position: absolute;
           top: -12px;
           left: 20px;
           background: #0072ff;
           color: white;
           font-size: 0.7rem;
           padding: 2px 10px;
           border-radius: 10px;
           font-weight: bold;
           text-transform: uppercase;
           letter-spacing: 1px;
       }

       /* æœ€å¾Œã®CTAãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
       .cta-container {
           position: absolute;
           opacity: 0;
           transform: scale(0.9);
           transition: all 1s ease;
           text-align: center;
           pointer-events: auto;
       }

       .cta-text {
           font-size: 2rem;
           font-weight: bold;
           margin-bottom: 1rem;
           background: linear-gradient(135deg, #00c6ff, #0072ff);
           -webkit-background-clip: text;
           -webkit-text-fill-color: transparent;
       }

       .cta-sub {
           font-size: 0.9rem;
           color: #94a3b8;
           margin-top: 1.5rem;
           line-height: 1.6;
       }
       .cta-btn {
           margin-top: 2rem; padding: 1rem 3rem; font-size: 1.2rem; font-weight: bold;
           color: white; background: var(--accent-gradient); border: none; border-radius: 50px;
           cursor: pointer; box-shadow: 0 0 20px rgba(0, 114, 255, 0.5); pointer-events: auto;
           transition: transform 0.2s;
       }
       .cta-btn:hover { transform: scale(1.05); box-shadow: 0 0 40px rgba(0, 114, 255, 0.8); }
       #guide-arrow {
           position: fixed; top: 5px; left: 10px; font-size: 6rem; color: #00c6ff; z-index: 9999;
           opacity: 0; pointer-events: none; font-weight:800; text-shadow: 0 0 20px cyan, 0 0 40px blue;
           line-height: 1;
       }
       .animate-guide { animation: pointNw 2s ease-in-out infinite; }
       @keyframes pointNw {
           0% { opacity: 0; transform: translate(60px, 60px); }
           20% { opacity: 1; transform: translate(10px, 10px); }
           50% { opacity: 1; transform: translate(0, 0); }
           100% { opacity: 0; transform: translate(0, 0); }
       }

       /* UI Preview Card */
       .preview-card {
           position: absolute;
           top: 50%; left: 50%;
           transform: translate(-50%, -50%) scale(0.8);
           width: 300px; height: 480px;
           background: #fff;
           border-radius: 20px;
           box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
           z-index: 20;
           opacity: 0;
           pointer-events: none;
           /* ã‚†ã£ãŸã‚Šã¨ã—ãŸé«˜ç´šæ„Ÿã®ã‚ã‚‹å‡ºç¾ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã«å¤‰æ›´ (0.6s -> 1.2s) */
           transition: all 1.2s cubic-bezier(0.19, 1, 0.22, 1);
           display: flex; flex-direction: column; overflow: hidden;
       }
       .preview-card.show {
           opacity: 1;
           transform: translate(-50%, -50%) scale(1);
           animation: popGlow 1.5s ease-out forwards;
       }
       /* ã‚«ãƒ¼ãƒ‰å‡ºç¾æ™‚ã®ã€Œã‚­ãƒ©ãƒªã€ã¨å…‰ã‚‹åå°„ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
       .preview-card.show::after {
           content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
           background: linear-gradient(to right, transparent, rgba(255,255,255,0.6), transparent);
           transform: skewX(-25deg);
           animation: shine 1.5s ease-out 0.2s forwards;
           pointer-events: none;
       }
       @keyframes shine { to { left: 200%; } }

       @keyframes popGlow {
           0% { box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
           40% { box-shadow: 0 0 70px rgba(0, 198, 255, 0.6), 0 0 30px rgba(0, 114, 255, 0.4); border: 1px solid rgba(255,255,255,0.8); }
           100% { box-shadow: 0 35px 70px -15px rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0); }
       }
       /* è¿½åŠ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
       @keyframes slideUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
       @keyframes dropBounce { 0% { opacity:0; transform: translateY(-100px); } 60% { transform: translateY(10px); } 80% { transform: translateY(-5px); } 100% { opacity:1; transform: translateY(0); } }
       @keyframes pulseAlert { 0% { transform: scale(0.9); opacity: 0; } 50% { transform: scale(1.05); } 100% { transform: scale(1); opacity: 1; } }
       .anim-chat { opacity: 0; animation: slideUp 0.5s ease-out forwards; }
       .anim-block { opacity: 0; animation: dropBounce 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
       .preview-header { height: 45px; background: #f1f5f9; border-bottom: 1px solid #cbd5e1; display:flex; align-items:center; justify-content:center; font-weight:bold; color:#475569; font-size:0.8rem;}
       .preview-body { flex: 1; padding: 20px; display:flex; flex-direction:column; gap:10px; position:relative; }

       /* Demo UI Elements */
       .demo-bar { height: 20px; background: #fee2e2; border-radius: 4px; overflow: hidden; position: relative; }
       .demo-bar-fill { height: 100%; background: #ef4444; width: 0%; transition: width 1s ease-out; }
       .demo-chat { background: #eff6ff; padding: 10px; border-radius: 12px; font-size: 0.8rem; color: #1e293b; margin-bottom: 5px; }
       .demo-chat.alt { background: #f1f5f9; align-self: flex-end; }
       .demo-block { height: 35px; border-radius: 6px; margin-bottom: 4px; }

       /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã‚¯ãƒ©ã‚¹ */
       .hidden {
           opacity: 0 !important;
           transform: translateY(-20px) scale(0.95) !important;
           pointer-events: none;
       }

       .visible {
           opacity: 1 !important;
           transform: translateY(0) scale(1) !important;
           pointer-events: auto;
       }

       @keyframes fadeInSub {
           from { opacity: 0; transform: translateY(10px); }
           to { opacity: 0.8; transform: translateY(0); }
       }

       @keyframes blink {
           0%, 100% { opacity: 1; }
           50% { opacity: 0; }
       }

       /* ã‚¹ãƒãƒ›å¯¾å¿œ */
       @media (max-width: 600px) {
           h1 { font-size: 3rem; }
           .subtitle { font-size: 1rem; }
           .prompt-text { font-size: 1rem; }
           .prompt-container { width: 90%; padding: 1.5rem; }
           /* ãƒ¢ãƒã‚¤ãƒ«èª¿æ•´ */
           #code-stream { font-size: 0.7rem; opacity: 0.3; line-height: 1.2; }
       }

       /* æ¡ˆå†…é€šçŸ¥ (èµ·å‹•ç›´å¾Œã«è¡¨ç¤ºã—ã¦æ¶ˆãˆã‚‹) */
       #top-notice {
           position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
           background: rgba(15, 23, 42, 0.85); border: 1px solid rgba(56, 189, 248, 0.3);
           padding: 8px 24px; border-radius: 99px; color: #bae6fd; font-size: 0.85rem;
           z-index: 1000; animation: fadeNotice 12s ease-out forwards; pointer-events: auto;
           white-space: nowrap; backdrop-filter: blur(8px); box-shadow: 0 4px 20px rgba(0,0,0,0.3);
           display: flex; align-items: center; gap: 8px; cursor: pointer;
       }
       @keyframes fadeNotice { 0% {opacity:0; transform:translate(-50%, -20px);} 10% {opacity:1; transform:translate(-50%, 0);} 85% {opacity:1;} 100% {opacity:0;} }

       /* CTA ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ */
       .cta-steps { margin-top: 30px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; font-size: 0.85rem; color: #94a3b8; }
       .cta-step { background: rgba(255,255,255,0.05); padding: 6px 14px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.05); }
       .cta-arrow { color: #38bdf8; font-weight: bold; padding-top: 5px; }
       .security-note { margin-top: 15px; font-size: 0.75rem; color: #475569; display: flex; align-items: center; justify-content: center; gap: 6px; }

       /* å·¦ä¸Šã‚¿ãƒ¼ã‚²ãƒƒãƒˆ & ã‚¬ã‚¤ãƒ‰ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ— */
       #app-menu-btn { position: fixed; top: 20px; left: 20px; font-size: 2rem; color: rgba(255,255,255,0.2); z-index: 50; cursor: default; }
       #guide-tooltip { position: fixed; top: 70px; left: 25px; background: #00c6ff; color: #000; padding: 6px 12px; border-radius: 4px; font-weight: bold; opacity: 0; pointer-events: none; transition: opacity 0.3s; z-index: 10000; font-size: 0.8rem; white-space: nowrap; }
       #guide-tooltip::after { content:''; position: absolute; top: -8px; left: 15px; border-width: 0 6px 8px 6px; border-style: solid; border-color: transparent transparent #00c6ff transparent; }
       #guide-tooltip.show-tip { opacity: 1; animation: bounceTip 1s infinite; }
       @keyframes bounceTip { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }

       /* ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³ */
       #skip-btn { position: fixed; bottom: 20px; right: 20px; background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; cursor: pointer; z-index: 1000; font-size: 0.8rem; backdrop-filter: blur(5px); transition: all 0.3s; opacity: 0.7; }
       #skip-btn:hover { background: rgba(255,255,255,0.2); opacity: 1; }

       /* ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£: è¦–å·®åŠ¹æœã‚’æ¸›ã‚‰ã™è¨­å®šã¸ã®å¯¾å¿œ */
       @media (prefers-reduced-motion: reduce) {
           *, ::before, ::after {
               animation-duration: 0.001s !important;
               animation-delay: 0s !important;
               transition-duration: 0.001s !important;
               transition-delay: 0s !important;
           }
           /* æ˜Ÿç©ºã¯é™æ­¢ç”»ã«ãªã‚‹ãŸã‚ã€ãƒã‚¤ã‚ºã‚’æ¸›ã‚‰ã™ãŸã‚å°‘ã—æš—ãã™ã‚‹ */
           #starfield { opacity: 0.4; }
           /* ç‚¹æ»…ã‚„å¼·ã„å…‰æ²¢ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’å®Œå…¨ã«éš ã™ */
           .preview-card.show::after { display: none; }
           /* ã‚¬ã‚¤ãƒ‰çŸ¢å°ã¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã›ãšé™æ­¢è¡¨ç¤º */
           .animate-guide { animation: none !important; opacity: 1 !important; transform: translate(10px, 10px) !important; }
       }
   </style>



   <div id="top-notice" onclick="this.style.display='none'">â„¹ï¸ ã“ã®ç”»é¢ã¯ãƒ‡ãƒ¢ã§ã™ã€‚å·¦ä¸Šã®ã€é–‹ç™ºã‚’ã¯ã˜ã‚ã‚‹ã€ã‹ã‚‰ã™ãã«é–‹å§‹ã§ãã¾ã™ã€‚<span style="opacity:0.6; margin-left:8px;">âœ•</span></div>


   <div id="app-menu-btn">â‰¡</div>
   <div id="guide-tooltip">AppStudioã®å·¦ä¸Šã®ãƒœã‚¿ãƒ³ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ</div>
   <button id="skip-btn" onclick="skipDemo()">Skip Intro &gt;&gt;</button>

   <canvas id="starfield"></canvas>
   <div id="code-stream"></div>

   <div id="content-layer">
       <div id="title-box" class="title-container visible">
           <h1>AppStudio</h1>
           <div class="subtitle">Where ideas take shape.</div>
       </div>

       <div id="prompt-box" class="prompt-container">
           <div id="prompt-label" class="prompt-label">Business</div>
           <div class="prompt-text">
               <span id="typewriter-text"></span><span class="prompt-cursor"></span>
           </div>
       </div>

       <div id="cta-box" class="cta-container">
           <div class="cta-text">ã¾ãšã¯ã€ä½œã£ã¦ã¿ã‚ˆã†ã€‚</div>
           <button class="cta-btn" onclick="triggerGuide()">é–‹ç™ºã‚’ã¯ã˜ã‚ã‚‹</button>

                      <div class="cta-steps">
               <span class="cta-step">â‘  AIæŒ‡ç¤ºã‚’ä½œæˆ</span> <span class="cta-arrow">â†’</span>
               <span class="cta-step">â‘¡ AIã«ãƒãƒ£ãƒƒãƒˆã§è¦æœ›</span> <span class="cta-arrow">â†’</span>
               <span class="cta-step">â‘¢ ãã®å ´ã§å‹•ã</span>
           </div>

           <div class="security-note">
               ğŸ”’ ãƒ‡ãƒ¼ã‚¿ã¯å¤–éƒ¨é€ä¿¡ã›ãšã€ã“ã®ç«¯æœ«å†…ã§å®Œçµ
           </div>
       </div>
       <div id="guide-arrow">â†–</div>
   </div>

   <div id="app-preview" class="preview-card">
       <div class="preview-header">App Preview</div>
       <div class="preview-body" id="preview-content"></div>
   </div>

<script>
/**
* 3D Starfield Animation
*/
const canvas = document.getElementById('starfield');
const ctx = canvas.getContext('2d');

let stars = [];
const numStars = 800;
// ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ: è¦–å·®åŠ¹æœã‚’æ¸›ã‚‰ã™è¨­å®šã®å ´åˆã¯æ˜Ÿã‚’æ­¢ã‚ã‚‹
const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
let speed = prefersReduced ? 0 : 2;
let width, height, centerX, centerY;

function resize() {
   width = window.innerWidth;
   height = window.innerHeight;
   canvas.width = width;
   canvas.height = height;
   centerX = width / 2;
   centerY = height / 2;
}

// ãƒ‘ãƒ©ãƒ©ãƒƒã‚¯ã‚¹(è¦–å·®)åŠ¹æœç”¨ã®ãƒã‚¦ã‚¹ä½ç½®
let parallaxX = 0;
let parallaxY = 0;

window.addEventListener('mousemove', (e) => {
   if (prefersReduced) return;
   // ç”»é¢ä¸­å¿ƒã‹ã‚‰ã®ã‚ºãƒ¬ã‚’è¨ˆç®— (ä¿‚æ•°0.05ã§ãµã‚“ã‚ã‚Šå‹•ã‹ã™)
   parallaxX = (e.clientX - centerX) * 0.05;
   parallaxY = (e.clientY - centerY) * 0.05;
});

class Star {
   constructor() { this.init(); }
   init() {
       this.x = (Math.random() - 0.5) * width * 2;
       this.y = (Math.random() - 0.5) * height * 2;
       this.z = Math.random() * width;
   }
   update() {
       this.z = this.z - speed;
       if (this.z <= 0) { this.init(); this.z = width; }
   }
   draw() {
       // ãƒã‚¦ã‚¹ã¨é€†æ–¹å‘ã«ãšã‚‰ã—ã¦å¥¥è¡Œãã‚’è¡¨ç¾
       let x = (this.x / this.z) * width + centerX - parallaxX;
       let y = (this.y / this.z) * height + centerY - parallaxY;
       
       let radius = (1 - this.z / width) * 2.5;
       if (x < 0 || x > width || y < 0 || y > height) return;
       
       const opacity = (1 - this.z / width);
       ctx.beginPath();
       ctx.arc(x, y, radius, 0, Math.PI * 2);
       ctx.fillStyle = `rgba(255, 255, 255, ${opacity})`;
       ctx.fill();
   }
}

function initStars() {
   stars = [];
   for (let i = 0; i < numStars; i++) stars.push(new Star());
}

function animateStars() {
   ctx.fillStyle = "rgba(5, 0, 17, 0.4)";
   ctx.fillRect(0, 0, width, height);
   stars.forEach(star => { star.update(); star.draw(); });
   // ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ: å‹•ãã‚’æ¸›ã‚‰ã™è¨­å®šãªã‚‰ãƒ«ãƒ¼ãƒ—ã‚’æ­¢ã‚ã‚‹
   if (!prefersReduced) requestAnimationFrame(animateStars);
}

window.addEventListener('resize', resize);
resize();
initStars();
animateStars();

/**
* Presentation Sequencer
*/
const titleBox = document.getElementById('title-box');
const promptBox = document.getElementById('prompt-box');
const promptLabel = document.getElementById('prompt-label');
const typeText = document.getElementById('typewriter-text');
const ctaBox = document.getElementById('cta-box');
const codeStream = document.getElementById('code-stream');
const previewBox = document.getElementById('app-preview');
const previewContent = document.getElementById('preview-content');

const scenarios = [
   {
       label: "BUSINESS",
       text: "ã€Œæµ·å¤–ã¨ã®ä¼šè­°ã®è­°äº‹ã‚’æ–‡å­—èµ·ã“ã—ã™ã‚‹ã‚¢ãƒ—ãƒªã§ã€Copilotã‚µã‚¤ãƒ‰ãƒãƒ¼ã¨é€£å‹•ã—ãŸç¿»è¨³ã‚’å®Ÿç¾ã—ãŸã„ã€‚ã€",
       code: `import { TranscribeService } from '@app/ai';\nconst session = new AudioSession();\nsession.on('data', async (buffer) => {\n  const text = await TranscribeService.parse(buffer);\n  const translated = await AIService.translate(text, 'ja');\n  UI.updateLiveCaption(translated);\n});\n// Generating UI Components...\n<View class="meeting-log">...`,
       preview: (el) => {
           el.innerHTML = `
               <div class="demo-chat anim-chat" style="animation-delay:0.2s"><b>Aã•ã‚“:</b> Next, let's discuss...</div>
               <div class="demo-chat alt anim-chat" style="animation-delay:0.8s"><b>AIç¿»è¨³:</b> æ¬¡ã«ã€...ã«ã¤ã„ã¦è­°è«–ã—ã¾ã—ã‚‡ã†</div>
               <div class="demo-chat anim-chat" style="animation-delay:1.6s"><b>B-san:</b> I agree with that.</div>
               <div class="demo-chat alt anim-chat" style="animation-delay:2.2s"><b>AIç¿»è¨³:</b> ç§ã‚‚ãã‚Œã«è³›æˆã§ã™ã€‚</div>
               <div style="margin-top:auto; font-size:0.7rem; color:#aaa; text-align:center; animation: blink 2s infinite;">éŒ²éŸ³ä¸­... <i class="fas fa-microphone"></i></div>
           `;
       }
   },
   {
       label: "LIFESTYLE",
       text: "ã€Œé£²é…’é‡ã‚’è¨˜éŒ²ã—ã¦ã‚°ãƒ©ãƒ•åŒ–ã™ã‚‹ç”Ÿæ´»ç¿’æ…£ç®¡ç†ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã€",
       code: `const updateHealthData = (drinkType, amount) => {\n  const alcoholContent = calculatePureAlcohol(drinkType, amount);\n  db.dailyLogs.add({ date: new Date(), amount: alcoholContent });\n  const weeklyData = await db.getWeeklySummary();\n  ChartRenderer.draw(weeklyData, { type: 'bar', color: '#ff4444' });\n  if(alcoholContent > LIMIT) Alert.notify('Over limit');\n};`,
       preview: (el) => {
           el.innerHTML = `
               <div style='font-size:0.8rem; color:#666; margin-bottom:5px;'>ä»Šé€±ã®æ‘‚å–é‡</div>
               <div class='demo-bar'><div class='demo-bar-fill' style='width:0%'></div></div>
               <div style='text-align:right; font-size:1.5rem; font-weight:bold; color:#ef4444; margin-top:5px;'>420g <span style='font-size:0.8rem'>/ week</span></div>
               <div id='alert-msg' style='margin-top:20px; padding:10px; background:#fef2f2; border-radius:8px; color:#b91c1c; font-size:0.8rem; opacity:0;'>âš ï¸ é£²ã¿éãæ³¨æ„ï¼</div>
           `;
           setTimeout(() => {
               try{
                   el.querySelector('.demo-bar-fill').style.width = '80%';
                   const alert = el.querySelector('#alert-msg');
                   alert.style.animation = 'pulseAlert 0.5s ease-out forwards';
                   alert.style.animationDelay = '0.8s';
               }catch(e){}
           }, 100);
       }
   },
   {
       label: "GAME",
       text: "ã€ŒãŠæ­£æœˆã«è¦ªæˆšã®å®¶ã§ã¿ãŸãŠã‚‚ã¡ã‚ƒã‚’3Dã®çŸ¥è‚²ã‚²ãƒ¼ãƒ ã¨ã—ã¦å†ç¾ã—ã¦ã€‚ã€",
       code: `const scene = new THREE.Scene();\nconst geometry = new THREE.CylinderGeometry(5, 5, 20, 32);\nconst material = new THREE.MeshPhysicalMaterial({ color: 0xff0000 });\nconst daruma = new THREE.Mesh(geometry, material);\nphysicsWorld.addBody(daruma);\nfunction animate() {\n  requestAnimationFrame(animate);\n  renderer.render(scene, camera);\n}`,
              preview: (el) => {
           el.innerHTML = `
               <style>
                 @keyframes kickOut { 
                   0% { transform: translateX(0); }
                   20% { transform: translateX(-15px) rotate(-5deg); }
                   100% { transform: translateX(400px) rotate(180deg); opacity: 0; } 
                 }
                 @keyframes dropDown {
                   0% { transform: translateY(0); }
                   100% { transform: translateY(37px); }
                 }
               </style>
               <div style="display:flex; flex-direction:column; align-items:center; gap:2px; justify-content:center; height:100%; overflow:hidden;">
                 <div class="demo-block" style="width:60px; background:#ef4444; opacity:0; animation: dropBounce 0.6s forwards 0.1s, dropDown 0.3s cubic-bezier(0.5, 0, 1, 1) forwards 1.7s;"></div>
                 <div class="demo-block" style="width:70px; background:#3b82f6; opacity:0; animation: dropBounce 0.6s forwards 0.3s, dropDown 0.3s cubic-bezier(0.5, 0, 1, 1) forwards 1.7s;"></div>
                 <div class="demo-block" style="width:80px; background:#eab308; opacity:0; animation: dropBounce 0.6s forwards 0.5s, kickOut 0.4s ease-in forwards 1.6s;"></div>
                 <div class="demo-block" style="width:90px; background:#22c55e; opacity:0; animation: dropBounce 0.6s forwards 0.7s;"></div>
                 <div style="margin-top:10px; font-weight:bold; color:#333; opacity:0; animation:slideUp 0.5s ease-out 2.2s forwards">Score: 1000</div>
               </div>
           `;
       }
   },
   {
       label: "LEARN",
       text: "ã€ŒTOEICã®é »å‡ºå˜èªã‚’ãƒ¬ãƒ™ãƒ«åˆ¥ã«å‡ºé¡Œã™ã‚‹è‹±å˜èªå­¦ç¿’ã‚¢ãƒ—ãƒªã‚’ã¤ãã£ã¦ãã ã•ã„ã€‚ã€",
       code: `const fetchQuestions = async (level) => {\n  const words = await db.vocab.where('level', '==', level).toArray();\n  return words.map(w => ({\n    question: w.english,\n    options: generateChoices(w.japanese),\n    answer: w.japanese\n  }));\n};\nconst checkAnswer = (selected, correct) => {\n  return selected === correct ? Sound.play('correct') : Sound.play('wrong');\n}`,
       preview: (el) => {
           el.innerHTML = `
               <div style="text-align:center; padding:20px; display:flex; flex-direction:column; justify-content:center; height:100%;">
                 <h2 style="font-size:2rem; color:#333; margin:0;">Abundance</h2>
                 <p style="color:#666; margin-bottom:30px;">[noun]</p>
                 <div style="display:grid; gap:10px;">
                   <button id="btn-correct" style="padding:12px; background:#3b82f6; color:white; border:none; border-radius:8px; font-weight:bold; transition:all 0.3s;">å¤§é‡ã€è±Šå¯Œ</button>
                   <button style="padding:12px; background:#e2e8f0; border:none; border-radius:8px; color:#475569;">æ”¾æ£„ã€æ–­å¿µ</button>
                 </div>
               </div>
           `;
                      setTimeout(() => {
               try {
                   const btn = el.querySelector('#btn-correct');
                   btn.style.transform = 'scale(1.1)';
                   btn.style.background = '#22c55e'; // Green for success
                   btn.innerHTML = 'å¤§é‡ã€è±Šå¯Œ âœ…';
               } catch(e) {}
           }, 1200);
       }
   },
      {
       label: "DEBUG",
       text: "ã€Œãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã¨ç”»é¢ãŒãƒ•ãƒªãƒ¼ã‚ºã—ã¦å‹•ã‹ãªããªã‚‹... åŸå› ã‚’ç‰¹å®šã—ã¦ç›´ã—ã¦ã€‚ã€",
       code: `// âŒ Bad: Blocking Main Thread\nwhile(items.length < 9999) {\n  items.push(process()); // Freezes UI\n}\n\n// âœ… Fixed: Async/Await Pattern\nconst load = async () => {\n  while(notDone) {\n    processChunk();\n    await new Promise(r => requestAnimationFrame(r));\n  }\n};`,
       preview: (el) => {
           el.innerHTML = `
               <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; gap:15px;">
                 <div style="font-size:0.8rem; color:#666;">Heavy Processing</div>
                 <div id="loader-box" style="width:50px; height:50px; border:5px solid #e2e8f0; border-top-color:#3b82f6; border-radius:50%;"></div>
                 <div id="status-text" style="color:#ef4444; font-weight:bold; font-size:0.9rem;">âš ï¸ Unresponsive (Freeze)</div>
                 <div id="fix-overlay" style="position:absolute; inset:0; background:rgba(255,255,255,0.8); display:flex; align-items:center; justify-content:center; opacity:0; pointer-events:none;">
                    <div style="font-size:3rem; color:#22c55e; text-shadow:0 5px 15px rgba(34,197,94,0.5);"><i class="fas fa-magic"></i></div>
                 </div>
               </div>
           `;
           
           setTimeout(() => {
               try {
                   const overlay = el.querySelector('#fix-overlay');
                   if(overlay) {
                       overlay.style.transition = 'opacity 0.3s';
                       overlay.style.opacity = '1';
                       overlay.style.animation = 'popGlow 0.5s ease-out';
                   }
               } catch(e){}
           }, 1500);

           setTimeout(() => {
               try {
                   const loader = el.querySelector('#loader-box');
                   const status = el.querySelector('#status-text');
                   const overlay = el.querySelector('#fix-overlay');
                   
                   if(loader && status) {
                       const style = document.createElement('style');
                       style.innerHTML = '@keyframes spin { to { transform: rotate(360deg); } }';
                       el.appendChild(style);
                       loader.style.animation = 'spin 0.8s linear infinite';
                       status.innerHTML = 'Processing Smoothly...';
                       status.style.color = '#3b82f6';
                       status.style.transition = 'color 0.3s';
                   }
                   if(overlay) overlay.style.opacity = '0';
               } catch(e){}
           }, 2000);
           
           setTimeout(() => {
                try {
                    const status = el.querySelector('#status-text');
                    const loader = el.querySelector('#loader-box');
                    if(status) {
                        status.innerHTML = 'âœ¨ Completed!';
                        status.style.color = '#22c55e';
                    }
                    if(loader) {
                        loader.style.borderColor = '#22c55e';
                        loader.style.animation = 'none';
                    }
                } catch(e){}
           }, 3200);
       }
   }
];

const wait = (ms) => new Promise(resolve => setTimeout(resolve, ms));

async function typeWriter(text, element) {
   element.innerHTML = "";
   for (let i = 0; i < text.length; i++) {
       element.innerHTML += text.charAt(i);
       await wait(50);
   }
}

async function runSequence() {
   speed = 2;
   titleBox.classList.remove('hidden');
   titleBox.classList.add('visible');
   promptBox.classList.remove('visible');
   promptBox.classList.add('hidden');
   ctaBox.classList.remove('visible');
   ctaBox.classList.add('hidden');
   codeStream.innerHTML = "";

   await wait(3500);

   titleBox.classList.remove('visible');
   titleBox.classList.add('hidden');
   await wait(1000); // å¾…æ©Ÿå»¶é•·

   promptBox.classList.remove('hidden');
   promptBox.classList.add('visible');

   speed = 15;

   for (const scenario of scenarios) {

       promptLabel.innerText = scenario.label;
       const isLastScenario = (scenario === scenarios[scenarios.length - 1]);

       // 1. Type Prompt & 2. Stream Codeï¼ˆåŒæ™‚é–‹å§‹ï¼‰
       typeText.innerHTML = "";
       codeStream.innerHTML = "";

       let codeIndex = 0;
       const streamPromise = new Promise(resolve => {
           const codeInterval = setInterval(() => {
               if (codeIndex < scenario.code.length) {
                   codeStream.innerHTML += scenario.code.charAt(codeIndex);
                   codeIndex++;
               }
           }, 6); // ã‚³ãƒ¼ãƒ‰ç”Ÿæˆé€Ÿåº¦ã‚’å°‘ã—ã‚†ã£ãã‚Šã«

           // ã‚³ãƒ¼ãƒ‰è¡¨ç¤ºæ™‚é–“ã‚’å»¶é•·
           setTimeout(() => {
               clearInterval(codeInterval);
               resolve();
           }, 2200);
       });

       const typingPromise = typeWriter(scenario.text, typeText);

       await Promise.all([typingPromise, streamPromise]);

       // æŒ‡ç¤ºã‚’èª­ã¾ã›ã‚‹æ™‚é–“ã‚’ãŸã£ã·ã‚Šã¨ã‚‹ (0.6s -> 1.5s)
       await wait(1500);

       // 3. Show Preview
       if (scenario.preview) {
           // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ¶ˆå»
           promptBox.classList.remove('visible');
           promptBox.classList.add('hidden');

           // ã‚¢ãƒ—ãƒªãŒå‡ºã‚‹å‰ã®ã€Œæºœã‚ã€ã‚’ä½œã‚‹ (0.85s -> 1.0s)
           await wait(1000);

           // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
           scenario.preview(previewContent);
           previewBox.classList.add('show');

           // ã‚¢ãƒ—ãƒªã®å‹•ä½œã‚’ã‚†ã£ãã‚Šè¦‹ã›ã‚‹ (2.5s -> 4.5s)
           await wait(4500);

           // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¶ˆå»
           previewBox.classList.remove('show');
           await wait(1000);

           typeText.innerHTML = "";
           codeStream.innerHTML = "";
           await wait(50);

           if (!isLastScenario) {
               promptBox.classList.remove('hidden');
               promptBox.classList.add('visible');
               await wait(200);
           }
       }

       typeText.innerHTML = "";
       codeStream.innerHTML = "";
       await wait(300);
   }

   promptBox.classList.remove('visible');
   promptBox.classList.add('hidden');
   speed = 2;
   await wait(1000);

   ctaBox.classList.remove('hidden');
   ctaBox.classList.add('visible');

   await wait(6000);

   ctaBox.classList.remove('visible');
   ctaBox.classList.add('hidden');
   await wait(1000);

   runSequence();
}

// Control Logic
let isStopped = false;

window.skipDemo = function() {
   if (isStopped) return;
   isStopped = true;
   document.getElementById('skip-btn').style.display = 'none';

   // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã¦å³æ™‚éè¡¨ç¤ºã«ã™ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼
   const kill = (el) => {
       el.style.transition = 'none';
       el.style.opacity = '0';
       el.classList.add('hidden');
       el.classList.remove('visible', 'show');
   };

   // å¼·åˆ¶çš„ã«CTAç”»é¢ã¸é·ç§»
   kill(titleBox);
   kill(promptBox);
   kill(previewBox);
   
   codeStream.innerHTML = "";

   // CTAã¯è¡¨ç¤º
   ctaBox.classList.remove('hidden');
   ctaBox.classList.add('visible');
};

window.triggerGuide = function() {
   // çŸ¢å°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
   const arrow = document.getElementById('guide-arrow');
   arrow.classList.remove('animate-guide');
   void arrow.offsetWidth;
   arrow.classList.add('animate-guide');

   // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—è¡¨ç¤º
   const tip = document.getElementById('guide-tooltip');
   tip.classList.add('show-tip');

   // å·¦ä¸Šã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®å¼·èª¿
   const target = document.getElementById('app-menu-btn');
   target.style.color = '#fff';
   target.style.textShadow = '0 0 10px #00c6ff';

   setTimeout(() => {
       arrow.classList.remove('animate-guide');
       tip.classList.remove('show-tip');
       target.style.color = '';
       target.style.textShadow = '';
   }, 5000);
};

// æ—¢å­˜ã®runSequenceã«åœæ­¢ãƒ•ãƒ©ã‚°ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ 
const originalWait = wait;
// waité–¢æ•°ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã—ã¦ã€åœæ­¢æ™‚ã¯å¾…æ©Ÿã—ãªã„ã‚ˆã†ã«ã™ã‚‹ï¼ˆå³æ™‚è§£æ±ºã¯ã—ãªã„ãŒã€å‡¦ç†ã‚’æ­¢ã‚ã‚‹ï¼‰
// ã“ã“ã§ã¯å˜ç´”ã« runSequence å†…ã§ isStopped ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ–¹å¼ã«å¤‰æ›´

async function runSequenceOverride() {
   if (isStopped) return;

   // ... (å…ƒã®åˆæœŸåŒ–å‡¦ç†) ...
   speed = 2;
   titleBox.classList.remove('hidden');
   titleBox.classList.add('visible');
   promptBox.classList.remove('visible');
   promptBox.classList.add('hidden');
   ctaBox.classList.remove('visible');
   ctaBox.classList.add('hidden');
   codeStream.innerHTML = "";

   if(isStopped) return;
   await wait(3500);
   if(isStopped) return;

   titleBox.classList.remove('visible');
   titleBox.classList.add('hidden');
   await wait(1000);
   if(isStopped) return;

   promptBox.classList.remove('hidden');
   promptBox.classList.add('visible');
   speed = 15;

   for (const scenario of scenarios) {
       if (isStopped) return;
       promptLabel.innerText = scenario.label;
       const isLastScenario = (scenario === scenarios[scenarios.length - 1]);

       typeText.innerHTML = "";
       codeStream.innerHTML = "";

       let codeIndex = 0;
       const streamPromise = new Promise(resolve => {
           const codeInterval = setInterval(() => {
               if (isStopped) { clearInterval(codeInterval); resolve(); return; }
               if (codeIndex < scenario.code.length) {
                   codeStream.innerHTML += scenario.code.charAt(codeIndex);
                   codeIndex++;
               }
           }, 6);
           setTimeout(() => { clearInterval(codeInterval); resolve(); }, 2200);
       });

       const typingPromise = typeWriter(scenario.text, typeText);
       await Promise.all([typingPromise, streamPromise]);
       if (isStopped) return;
       await wait(1500);
       if (isStopped) return;

       if (scenario.preview) {
           promptBox.classList.remove('visible');
           promptBox.classList.add('hidden');
           await wait(1000);
           if (isStopped) return;

           scenario.preview(previewContent);
           previewBox.classList.add('show');
           await wait(4500);
           if (isStopped) return;

           previewBox.classList.remove('show');
           await wait(1000);

           typeText.innerHTML = "";
           codeStream.innerHTML = "";
           await wait(50);
           if (!isLastScenario) {
               promptBox.classList.remove('hidden');
               promptBox.classList.add('visible');
               await wait(200);
           }
       }
       typeText.innerHTML = "";
       codeStream.innerHTML = "";
       await wait(300);
   }

   if (isStopped) return;
   promptBox.classList.remove('visible');
   promptBox.classList.add('hidden');
   speed = 2;
   await wait(1000);

   ctaBox.classList.remove('hidden');
   ctaBox.classList.add('visible');
   document.getElementById('skip-btn').style.display = 'none'; // æœ€å¾Œã¾ã§è¦‹ãŸã‚‰ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³æ¶ˆã™

   await wait(6000);
   if (isStopped) return;

   ctaBox.classList.remove('visible');
   ctaBox.classList.add('hidden');
   document.getElementById('skip-btn').style.display = 'block';
   await wait(1000);

   runSequenceOverride();
}

runSequenceOverride();
</script>





























<script id="lfs-meta" type="application/json">
{
  "appId": "d24aadecf689702c755cf0dd978f4ec2",
  "createdAt": "2026-01-09T23:39:59.240Z",
  "schema": 2,
  "title": "AppStudio",
  "savedAt": "2026-01-11T03:07:14.788Z",
  "aiInstruction": "Githubã¨é€£æºã—ã€ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã§ãã‚‹ä»•çµ„ã¿ã‚’å°å…¥ã—ã¦ã€‚",
  "comment": "Githubã¨é€£æºã—ã€ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã§ãã‚‹ä»•çµ„ã¿ã‚’å°å…¥ã—ã¦ã€‚",
  "sourceMode": "project",
  "runId": "ea6b1c6ba370520f2539eb3208828fb8"
}
</script>